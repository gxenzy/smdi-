{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="dashboard-container">
    <div class="dashboard-header">
        <h2 class="animate__animated animate__fadeIn">Welcome to SMDI Dashboard</h2>
        <p class="text-muted animate__animated animate__fadeIn animate__delay-1s">Smart Monitoring Device Integration</p>
    </div>
    
    <div class="container mt-4">
        <div class="row row-cols-2 row-cols-md-3 g-4">
            {% if error_message %}
                <div class="alert alert-danger">
                    <p>Error: {{ error_message }}</p>
                </div>
            {% else %}
                <!-- Total Users Card -->
                <div class="col">
                    <div class="card h-100 shadow-sm">
                        <div class="card-body d-flex flex-column justify-content-between">
                            <h5 class="card-title">Total Users</h5>
                            <p class="card-text">{{ user_count }} members have joined the website.</p>
                            <a href="{{ url_for('user_management') }}" class="btn btn-primary">
                                <i class="fas fa-users me-2"></i>
                                Manage Users
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Electrical System Card -->
                <div class="col">
                    <div class="card h-100 shadow-sm">
                        <div class="card-body d-flex flex-column justify-content-between">
                            <h5 class="card-title">Electrical Systems</h5>
                            <p class="card-text">{{ electrical_system_count }} electrical systems modeled.</p>
                            <a href="{{ url_for('electrical_system') }}" class="btn btn-primary">
                                <i class="fas fa-bolt me-2"></i>
                                Access System
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Compliance Assessment Card -->
                <div class="col">
                    <div class="card h-100 shadow-sm">
                        <div class="card-body d-flex flex-column justify-content-between">
                            <h5 class="card-title">Compliance Assessments</h5>
                            <p class="card-text">{{ compliance_count }} compliance assessments completed.</p>
                            <a href="{{ url_for('compliance') }}" class="btn btn-primary">
                                <i class="fas fa-clipboard-check me-2"></i>
                                Run Assessment
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Energy Audit Tool Card -->
                <div class="col">
                    <div class="card h-100 shadow-sm">
                        <div class="card-body d-flex flex-column justify-content-between">
                            <h5 class="card-title">Energy Audit Tools</h5>
                            <p class="card-text">{{ energy_audit_count }} energy audits conducted.</p>
                            <a href="{{ url_for('energy_audit') }}" class="btn btn-primary">
                                <i class="fas fa-chart-line me-2"></i>
                                Launch Tool
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Testing Results Card -->
                <div class="col">
                    <div class="card h-100 shadow-sm">
                        <div class="card-body d-flex flex-column justify-content-between">
                            <h5 class="card-title">Testing Results</h5>
                            <p class="card-text">View energy audit tool testing results.</p>
                            <a href="{{ url_for('testing_results') }}" class="btn btn-primary">
                                <i class="fas fa-clipboard-list me-2"></i>
                                View Results
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- TAM Evaluation Card -->
                <div class="col">
                    <div class="card h-100 shadow-sm">
                        <div class="card-body d-flex flex-column justify-content-between">
                            <h5 class="card-title">TAM Evaluations</h5>
                            <p class="card-text">{{ evaluation_count }} TAM evaluations completed.</p>
                            <a href="{{ url_for('tam_evaluation') }}" class="btn btn-primary">
                                <i class="fas fa-chart-bar me-2"></i>
                                View Evaluation
                            </a>
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</div>

<style>
.card {
    transition: transform 0.3s;
}

.card:hover {
    transform: scale(1.05);
}
</style>

{% endblock %}